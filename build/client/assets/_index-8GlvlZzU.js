import{b as Y,r as pt,j as X}from"./index-O48r6BTw.js";var dt=e=>e.type==="checkbox",Xe=e=>e instanceof Date,fe=e=>e==null;const qr=e=>typeof e=="object";var ie=e=>!fe(e)&&!Array.isArray(e)&&qr(e)&&!Xe(e),On=e=>ie(e)&&e.target?dt(e.target)?e.target.checked:e.target.value:e,Vn=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Nn=(e,t)=>e.has(Vn(t)),In=e=>{const t=e.constructor&&e.constructor.prototype;return ie(t)&&t.hasOwnProperty("isPrototypeOf")},gr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function q(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(gr&&(e instanceof Blob||n))&&(r||ie(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!In(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=q(e[i]));else return e;return t}var Pt=e=>/^\w*$/.test(e),Z=e=>e===void 0,kt=e=>Array.isArray(e)?e.filter(Boolean):[],pr=e=>kt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),E=(e,t,r)=>{if(!t||!ie(e))return r;const n=(Pt(t)?[t]:pr(t)).reduce((i,o)=>fe(i)?i:i[o],e);return Z(n)||n===e?Z(e[t])?r:e[t]:n},Se=e=>typeof e=="boolean",G=(e,t,r)=>{let n=-1;const i=Pt(t)?[t]:pr(t),o=i.length,s=o-1;for(;++n<o;){const l=i[n];let c=r;if(n!==s){const d=e[l];c=ie(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Vr={BLUR:"blur",FOCUS_OUT:"focusout"},_e={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zr=Y.createContext(null);Zr.displayName="HookFormContext";const Pn=()=>Y.useContext(Zr);var kn=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==_e.all&&(t._proxyFormState[s]=!n||_e.all),e[s]}});return i};const Jr=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;var xe=e=>typeof e=="string",Mn=(e,t,r,n,i)=>xe(e)?(n&&t.watch.add(e),E(r,e,i)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),E(r,o))):(n&&(t.watchAll=!0),r),sr=e=>fe(e)||!qr(e);function Re(e,t,r=new WeakSet){if(sr(e)||sr(t))return e===t;if(Xe(e)&&Xe(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const s=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const l=t[o];if(Xe(s)&&Xe(l)||ie(s)&&ie(l)||Array.isArray(s)&&Array.isArray(l)?!Re(s,l,r):s!==l)return!1}}return!0}var Rn=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},pe=e=>Array.isArray(e)?e:[e],Nr=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},de=e=>ie(e)&&!Object.keys(e).length,mr=e=>e.type==="file",De=e=>typeof e=="function",xt=e=>{if(!gr)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qr=e=>e.type==="select-multiple",yr=e=>e.type==="radio",Ln=e=>yr(e)||dt(e),Xt=e=>xt(e)&&e.isConnected;function jn(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Z(e)?n++:e[t[n++]];return e}function Bn(e){for(const t in e)if(e.hasOwnProperty(t)&&!Z(e[t]))return!1;return!0}function ne(e,t){const r=Array.isArray(t)?t:Pt(t)?[t]:pr(t),n=r.length===1?e:jn(e,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(ie(n)&&de(n)||Array.isArray(n)&&Bn(n))&&ne(e,r.slice(0,-1)),e}var en=e=>{for(const t in e)if(De(e[t]))return!0;return!1};function Ft(e,t={}){const r=Array.isArray(e);if(ie(e)||r)for(const n in e)Array.isArray(e[n])||ie(e[n])&&!en(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ft(e[n],t[n])):fe(e[n])||(t[n]=!0);return t}function tn(e,t,r){const n=Array.isArray(e);if(ie(e)||n)for(const i in e)Array.isArray(e[i])||ie(e[i])&&!en(e[i])?Z(t)||sr(r[i])?r[i]=Array.isArray(e[i])?Ft(e[i],[]):{...Ft(e[i])}:tn(e[i],fe(t)?{}:t[i],r[i]):r[i]=!Re(e[i],t[i]);return r}var tt=(e,t)=>tn(e,t,Ft(t));const Ir={value:!1,isValid:!1},Pr={value:!0,isValid:!0};var rn=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Z(e[0].attributes.value)?Z(e[0].value)||e[0].value===""?Pr:{value:e[0].value,isValid:!0}:Pr:Ir}return Ir},nn=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Z(e)?e:t?e===""?NaN:e&&+e:r&&xe(e)?new Date(e):n?n(e):e;const kr={isValid:!1,value:null};var on=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,kr):kr;function Mr(e){const t=e.ref;return mr(t)?t.files:yr(t)?on(e.refs).value:Qr(t)?[...t.selectedOptions].map(({value:r})=>r):dt(t)?rn(e.refs).value:nn(Z(t.value)?e.ref.value:t.value,e)}var Un=(e,t,r,n)=>{const i={};for(const o of e){const s=E(t,o);s&&G(i,o,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Ct=e=>e instanceof RegExp,rt=e=>Z(e)?e:Ct(e)?e.source:ie(e)?Ct(e.value)?e.value.source:e.value:e,ze=e=>({isOnSubmit:!e||e===_e.onSubmit,isOnBlur:e===_e.onBlur,isOnChange:e===_e.onChange,isOnAll:e===_e.all,isOnTouch:e===_e.onTouched});const Rr="AsyncFunction";var Yn=e=>!!e&&!!e.validate&&!!(De(e.validate)&&e.validate.constructor.name===Rr||ie(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Rr)),Xn=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lr=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const qe=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const o=E(e,i);if(o){const{_f:s,...l}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(qe(l,t))break}else if(ie(l)&&qe(l,t))break}}};function Lr(e,t,r){const n=E(e,r);if(n||Pt(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const o=i.join("."),s=E(t,o),l=E(e,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};if(l&&l.root&&l.root.type)return{name:`${o}.root`,error:l.root};i.pop()}return{name:r}}var Wn=(e,t,r,n)=>{r(e);const{name:i,...o}=e;return de(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!n||_e.all))},Hn=(e,t,r)=>!e||!t||e===t||pe(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),$n=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Gn=(e,t)=>!kt(E(e,t)).length&&ne(e,t),an=(e,t,r)=>{const n=pe(E(e,r));return G(n,"root",t[r]),G(e,r,n),e},_t=e=>xe(e);function jr(e,t,r="validate"){if(_t(e)||Array.isArray(e)&&e.every(_t)||Se(e)&&!e)return{type:r,message:_t(e)?e:"",ref:t}}var We=e=>ie(e)&&!Ct(e)?e:{value:e,message:""},ur=async(e,t,r,n,i,o)=>{const{ref:s,refs:l,required:c,maxLength:d,minLength:p,min:h,max:g,pattern:M,validate:T,name:x,valueAsNumber:N,mount:I}=e._f,A=E(r,x);if(!I||t.has(x))return{};const P=l?l[0]:s,U=k=>{i&&P.reportValidity&&(P.setCustomValidity(Se(k)?"":k||""),P.reportValidity())},y={},_=yr(s),D=dt(s),B=_||D,O=(N||mr(s))&&Z(s.value)&&Z(A)||xt(s)&&s.value===""||A===""||Array.isArray(A)&&!A.length,J=Rn.bind(null,x,n,y),z=(k,R,W,re=Te.maxLength,Q=Te.minLength)=>{const ue=k?R:W;y[x]={type:k?re:Q,message:ue,ref:s,...J(k?re:Q,ue)}};if(o?!Array.isArray(A)||!A.length:c&&(!B&&(O||fe(A))||Se(A)&&!A||D&&!rn(l).isValid||_&&!on(l).isValid)){const{value:k,message:R}=_t(c)?{value:!!c,message:c}:We(c);if(k&&(y[x]={type:Te.required,message:R,ref:P,...J(Te.required,R)},!n))return U(R),y}if(!O&&(!fe(h)||!fe(g))){let k,R;const W=We(g),re=We(h);if(!fe(A)&&!isNaN(A)){const Q=s.valueAsNumber||A&&+A;fe(W.value)||(k=Q>W.value),fe(re.value)||(R=Q<re.value)}else{const Q=s.valueAsDate||new Date(A),ue=Qe=>new Date(new Date().toDateString()+" "+Qe),we=s.type=="time",Ie=s.type=="week";xe(W.value)&&A&&(k=we?ue(A)>ue(W.value):Ie?A>W.value:Q>new Date(W.value)),xe(re.value)&&A&&(R=we?ue(A)<ue(re.value):Ie?A<re.value:Q<new Date(re.value))}if((k||R)&&(z(!!k,W.message,re.message,Te.max,Te.min),!n))return U(y[x].message),y}if((d||p)&&!O&&(xe(A)||o&&Array.isArray(A))){const k=We(d),R=We(p),W=!fe(k.value)&&A.length>+k.value,re=!fe(R.value)&&A.length<+R.value;if((W||re)&&(z(W,k.message,R.message),!n))return U(y[x].message),y}if(M&&!O&&xe(A)){const{value:k,message:R}=We(M);if(Ct(k)&&!A.match(k)&&(y[x]={type:Te.pattern,message:R,ref:s,...J(Te.pattern,R)},!n))return U(R),y}if(T){if(De(T)){const k=await T(A,r),R=jr(k,P);if(R&&(y[x]={...R,...J(Te.validate,R.message)},!n))return U(R.message),y}else if(ie(T)){let k={};for(const R in T){if(!de(k)&&!n)break;const W=jr(await T[R](A,r),P,R);W&&(k={...W,...J(R,W.message)},U(W.message),n&&(y[x]=k))}if(!de(k)&&(y[x]={ref:P,...k},!n))return y}}return U(!0),y};const zn={mode:_e.onSubmit,reValidateMode:_e.onChange,shouldFocusError:!0};function Kn(e={}){let t={...zn,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:De(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=ie(t.defaultValues)||ie(t.values)?q(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:q(i),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...p};const g={array:Nr(),state:Nr()},M=t.criteriaMode===_e.all,T=a=>u=>{clearTimeout(d),d=setTimeout(a,u)},x=async a=>{if(!t.disabled&&(p.isValid||h.isValid||a)){const u=t.resolver?de((await D()).errors):await O(n,!0);u!==r.isValid&&g.state.next({isValid:u})}},N=(a,u)=>{!t.disabled&&(p.isValidating||p.validatingFields||h.isValidating||h.validatingFields)&&((a||Array.from(l.mount)).forEach(f=>{f&&(u?G(r.validatingFields,f,u):ne(r.validatingFields,f))}),g.state.next({validatingFields:r.validatingFields,isValidating:!de(r.validatingFields)}))},I=(a,u=[],f,w,b=!0,m=!0)=>{if(w&&f&&!t.disabled){if(s.action=!0,m&&Array.isArray(E(n,a))){const S=f(E(n,a),w.argA,w.argB);b&&G(n,a,S)}if(m&&Array.isArray(E(r.errors,a))){const S=f(E(r.errors,a),w.argA,w.argB);b&&G(r.errors,a,S),Gn(r.errors,a)}if((p.touchedFields||h.touchedFields)&&m&&Array.isArray(E(r.touchedFields,a))){const S=f(E(r.touchedFields,a),w.argA,w.argB);b&&G(r.touchedFields,a,S)}(p.dirtyFields||h.dirtyFields)&&(r.dirtyFields=tt(i,o)),g.state.next({name:a,isDirty:z(a,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else G(o,a,u)},A=(a,u)=>{G(r.errors,a,u),g.state.next({errors:r.errors})},P=a=>{r.errors=a,g.state.next({errors:r.errors,isValid:!1})},U=(a,u,f,w)=>{const b=E(n,a);if(b){const m=E(o,a,Z(f)?E(i,a):f);Z(m)||w&&w.defaultChecked||u?G(o,a,u?m:Mr(b._f)):W(a,m),s.mount&&x()}},y=(a,u,f,w,b)=>{let m=!1,S=!1;const H={name:a};if(!t.disabled){if(!f||w){(p.isDirty||h.isDirty)&&(S=r.isDirty,r.isDirty=H.isDirty=z(),m=S!==H.isDirty);const $=Re(E(i,a),u);S=!!E(r.dirtyFields,a),$?ne(r.dirtyFields,a):G(r.dirtyFields,a,!0),H.dirtyFields=r.dirtyFields,m=m||(p.dirtyFields||h.dirtyFields)&&S!==!$}if(f){const $=E(r.touchedFields,a);$||(G(r.touchedFields,a,f),H.touchedFields=r.touchedFields,m=m||(p.touchedFields||h.touchedFields)&&$!==f)}m&&b&&g.state.next(H)}return m?H:{}},_=(a,u,f,w)=>{const b=E(r.errors,a),m=(p.isValid||h.isValid)&&Se(u)&&r.isValid!==u;if(t.delayError&&f?(c=T(()=>A(a,f)),c(t.delayError)):(clearTimeout(d),c=null,f?G(r.errors,a,f):ne(r.errors,a)),(f?!Re(b,f):b)||!de(w)||m){const S={...w,...m&&Se(u)?{isValid:u}:{},errors:r.errors,name:a};r={...r,...S},g.state.next(S)}},D=async a=>{N(a,!0);const u=await t.resolver(o,t.context,Un(a||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(a),u},B=async a=>{const{errors:u}=await D(a);if(a)for(const f of a){const w=E(u,f);w?G(r.errors,f,w):ne(r.errors,f)}else r.errors=u;return u},O=async(a,u,f={valid:!0})=>{for(const w in a){const b=a[w];if(b){const{_f:m,...S}=b;if(m){const H=l.array.has(m.name),$=b._f&&Yn(b._f);$&&p.validatingFields&&N([w],!0);const ve=await ur(b,l.disabled,o,M,t.shouldUseNativeValidation&&!u,H);if($&&p.validatingFields&&N([w]),ve[m.name]&&(f.valid=!1,u))break;!u&&(E(ve,m.name)?H?an(r.errors,ve,m.name):G(r.errors,m.name,ve[m.name]):ne(r.errors,m.name))}!de(S)&&await O(S,u,f)}}return f.valid},J=()=>{for(const a of l.unMount){const u=E(n,a);u&&(u._f.refs?u._f.refs.every(f=>!Xt(f)):!Xt(u._f.ref))&&Lt(a)}l.unMount=new Set},z=(a,u)=>!t.disabled&&(a&&u&&G(o,a,u),!Re(Qe(),i)),k=(a,u,f)=>Mn(a,l,{...s.mount?o:Z(u)?i:xe(a)?{[a]:u}:u},f,u),R=a=>kt(E(s.mount?o:i,a,t.shouldUnregister?E(i,a,[]):[])),W=(a,u,f={})=>{const w=E(n,a);let b=u;if(w){const m=w._f;m&&(!m.disabled&&G(o,a,nn(u,m)),b=xt(m.ref)&&fe(u)?"":u,Qr(m.ref)?[...m.ref.options].forEach(S=>S.selected=b.includes(S.value)):m.refs?dt(m.ref)?m.refs.forEach(S=>{(!S.defaultChecked||!S.disabled)&&(Array.isArray(b)?S.checked=!!b.find(H=>H===S.value):S.checked=b===S.value||!!b)}):m.refs.forEach(S=>S.checked=S.value===b):mr(m.ref)?m.ref.value="":(m.ref.value=b,m.ref.type||g.state.next({name:a,values:q(o)})))}(f.shouldDirty||f.shouldTouch)&&y(a,b,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&Ie(a)},re=(a,u,f)=>{for(const w in u){if(!u.hasOwnProperty(w))return;const b=u[w],m=a+"."+w,S=E(n,m);(l.array.has(a)||ie(b)||S&&!S._f)&&!Xe(b)?re(m,b,f):W(m,b,f)}},Q=(a,u,f={})=>{const w=E(n,a),b=l.array.has(a),m=q(u);G(o,a,m),b?(g.array.next({name:a,values:q(o)}),(p.isDirty||p.dirtyFields||h.isDirty||h.dirtyFields)&&f.shouldDirty&&g.state.next({name:a,dirtyFields:tt(i,o),isDirty:z(a,m)})):w&&!w._f&&!fe(m)?re(a,m,f):W(a,m,f),lr(a,l)&&g.state.next({...r,name:a}),g.state.next({name:s.mount?a:void 0,values:q(o)})},ue=async a=>{s.mount=!0;const u=a.target;let f=u.name,w=!0;const b=E(n,f),m=$=>{w=Number.isNaN($)||Xe($)&&isNaN($.getTime())||Re($,E(o,f,$))},S=ze(t.mode),H=ze(t.reValidateMode);if(b){let $,ve;const gt=u.type?Mr(b._f):On(a),Pe=a.type===Vr.BLUR||a.type===Vr.FOCUS_OUT,Fn=!Xn(b._f)&&!t.resolver&&!E(r.errors,f)&&!b._f.deps||$n(Pe,E(r.touchedFields,f),r.isSubmitted,H,S),Ut=lr(f,l,Pe);G(o,f,gt),Pe?(!u||!u.readOnly)&&(b._f.onBlur&&b._f.onBlur(a),c&&c(0)):b._f.onChange&&b._f.onChange(a);const Yt=y(f,gt,Pe),Cn=!de(Yt)||Ut;if(!Pe&&g.state.next({name:f,type:a.type,values:q(o)}),Fn)return(p.isValid||h.isValid)&&(t.mode==="onBlur"?Pe&&x():Pe||x()),Cn&&g.state.next({name:f,...Ut?{}:Yt});if(!Pe&&Ut&&g.state.next({...r}),t.resolver){const{errors:Tr}=await D([f]);if(m(gt),w){const Tn=Lr(r.errors,n,f),Or=Lr(Tr,n,Tn.name||f);$=Or.error,f=Or.name,ve=de(Tr)}}else N([f],!0),$=(await ur(b,l.disabled,o,M,t.shouldUseNativeValidation))[f],N([f]),m(gt),w&&($?ve=!1:(p.isValid||h.isValid)&&(ve=await O(n,!0)));w&&(b._f.deps&&Ie(b._f.deps),_(f,ve,$,Yt))}},we=(a,u)=>{if(E(r.errors,u)&&a.focus)return a.focus(),1},Ie=async(a,u={})=>{let f,w;const b=pe(a);if(t.resolver){const m=await B(Z(a)?a:b);f=de(m),w=a?!b.some(S=>E(m,S)):f}else a?(w=(await Promise.all(b.map(async m=>{const S=E(n,m);return await O(S&&S._f?{[m]:S}:S)}))).every(Boolean),!(!w&&!r.isValid)&&x()):w=f=await O(n);return g.state.next({...!xe(a)||(p.isValid||h.isValid)&&f!==r.isValid?{}:{name:a},...t.resolver||!a?{isValid:f}:{},errors:r.errors}),u.shouldFocus&&!w&&qe(n,we,a?b:l.mount),w},Qe=a=>{const u={...s.mount?o:i};return Z(a)?u:xe(a)?E(u,a):a.map(f=>E(u,f))},et=(a,u)=>({invalid:!!E((u||r).errors,a),isDirty:!!E((u||r).dirtyFields,a),error:E((u||r).errors,a),isValidating:!!E(r.validatingFields,a),isTouched:!!E((u||r).touchedFields,a)}),Rt=a=>{a&&pe(a).forEach(u=>ne(r.errors,u)),g.state.next({errors:a?r.errors:{}})},Er=(a,u,f)=>{const w=(E(n,a,{_f:{}})._f||{}).ref,b=E(r.errors,a)||{},{ref:m,message:S,type:H,...$}=b;G(r.errors,a,{...$,...u,ref:w}),g.state.next({name:a,errors:r.errors,isValid:!1}),f&&f.shouldFocus&&w&&w.focus&&w.focus()},wn=(a,u)=>De(a)?g.state.subscribe({next:f=>"values"in f&&a(k(void 0,u),f)}):k(a,u,!0),Ar=a=>g.state.subscribe({next:u=>{Hn(a.name,u.name,a.exact)&&Wn(u,a.formState||p,xn,a.reRenderRoot)&&a.callback({values:{...o},...r,...u,defaultValues:i})}}).unsubscribe,En=a=>(s.mount=!0,h={...h,...a.formState},Ar({...a,formState:h})),Lt=(a,u={})=>{for(const f of a?pe(a):l.mount)l.mount.delete(f),l.array.delete(f),u.keepValue||(ne(n,f),ne(o,f)),!u.keepError&&ne(r.errors,f),!u.keepDirty&&ne(r.dirtyFields,f),!u.keepTouched&&ne(r.touchedFields,f),!u.keepIsValidating&&ne(r.validatingFields,f),!t.shouldUnregister&&!u.keepDefaultValue&&ne(i,f);g.state.next({values:q(o)}),g.state.next({...r,...u.keepDirty?{isDirty:z()}:{}}),!u.keepIsValid&&x()},Dr=({disabled:a,name:u})=>{(Se(a)&&s.mount||a||l.disabled.has(u))&&(a?l.disabled.add(u):l.disabled.delete(u))},jt=(a,u={})=>{let f=E(n,a);const w=Se(u.disabled)||Se(t.disabled);return G(n,a,{...f||{},_f:{...f&&f._f?f._f:{ref:{name:a}},name:a,mount:!0,...u}}),l.mount.add(a),f?Dr({disabled:Se(u.disabled)?u.disabled:t.disabled,name:a}):U(a,!0,u.value),{...w?{disabled:u.disabled||t.disabled}:{},...t.progressive?{required:!!u.required,min:rt(u.min),max:rt(u.max),minLength:rt(u.minLength),maxLength:rt(u.maxLength),pattern:rt(u.pattern)}:{},name:a,onChange:ue,onBlur:ue,ref:b=>{if(b){jt(a,u),f=E(n,a);const m=Z(b.value)&&b.querySelectorAll&&b.querySelectorAll("input,select,textarea")[0]||b,S=Ln(m),H=f._f.refs||[];if(S?H.find($=>$===m):m===f._f.ref)return;G(n,a,{_f:{...f._f,...S?{refs:[...H.filter(Xt),m,...Array.isArray(E(i,a))?[{}]:[]],ref:{type:m.type,name:a}}:{ref:m}}}),U(a,!1,void 0,m)}else f=E(n,a,{}),f._f&&(f._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(Nn(l.array,a)&&s.action)&&l.unMount.add(a)}}},Bt=()=>t.shouldFocusError&&qe(n,we,l.mount),An=a=>{Se(a)&&(g.state.next({disabled:a}),qe(n,(u,f)=>{const w=E(n,f);w&&(u.disabled=w._f.disabled||a,Array.isArray(w._f.refs)&&w._f.refs.forEach(b=>{b.disabled=w._f.disabled||a}))},0,!1))},Sr=(a,u)=>async f=>{let w;f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let b=q(o);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:m,values:S}=await D();r.errors=m,b=q(S)}else await O(n);if(l.disabled.size)for(const m of l.disabled)ne(b,m);if(ne(r.errors,"root"),de(r.errors)){g.state.next({errors:{}});try{await a(b,f)}catch(m){w=m}}else u&&await u({...r.errors},f),Bt(),setTimeout(Bt);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:de(r.errors)&&!w,submitCount:r.submitCount+1,errors:r.errors}),w)throw w},Dn=(a,u={})=>{E(n,a)&&(Z(u.defaultValue)?Q(a,q(E(i,a))):(Q(a,u.defaultValue),G(i,a,q(u.defaultValue))),u.keepTouched||ne(r.touchedFields,a),u.keepDirty||(ne(r.dirtyFields,a),r.isDirty=u.defaultValue?z(a,q(E(i,a))):z()),u.keepError||(ne(r.errors,a),p.isValid&&x()),g.state.next({...r}))},xr=(a,u={})=>{const f=a?q(a):i,w=q(f),b=de(a),m=b?i:w;if(u.keepDefaultValues||(i=f),!u.keepValues){if(u.keepDirtyValues){const S=new Set([...l.mount,...Object.keys(tt(i,o))]);for(const H of Array.from(S))E(r.dirtyFields,H)?G(m,H,E(o,H)):Q(H,E(m,H))}else{if(gr&&Z(a))for(const S of l.mount){const H=E(n,S);if(H&&H._f){const $=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(xt($)){const ve=$.closest("form");if(ve){ve.reset();break}}}}if(u.keepFieldsRef)for(const S of l.mount)Q(S,E(m,S));else n={}}o=t.shouldUnregister?u.keepDefaultValues?q(i):{}:q(m),g.array.next({values:{...m}}),g.state.next({values:{...m}})}l={mount:u.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!p.isValid||!!u.keepIsValid||!!u.keepDirtyValues,s.watch=!!t.shouldUnregister,g.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:b?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!Re(a,i)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:b?{}:u.keepDirtyValues?u.keepDefaultValues&&o?tt(i,o):r.dirtyFields:u.keepDefaultValues&&a?tt(i,a):u.keepDirty?r.dirtyFields:{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Fr=(a,u)=>xr(De(a)?a(o):a,u),Sn=(a,u={})=>{const f=E(n,a),w=f&&f._f;if(w){const b=w.refs?w.refs[0]:w.ref;b.focus&&(b.focus(),u.shouldSelect&&De(b.select)&&b.select())}},xn=a=>{r={...r,...a}},Cr={control:{register:jt,unregister:Lt,getFieldState:et,handleSubmit:Sr,setError:Er,_subscribe:Ar,_runSchema:D,_focusError:Bt,_getWatch:k,_getDirty:z,_setValid:x,_setFieldArray:I,_setDisabledField:Dr,_setErrors:P,_getFieldArray:R,_reset:xr,_resetDefaultValues:()=>De(t.defaultValues)&&t.defaultValues().then(a=>{Fr(a,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:J,_disableForm:An,_subjects:g,_proxyFormState:p,get _fields(){return n},get _formValues(){return o},get _state(){return s},set _state(a){s=a},get _defaultValues(){return i},get _names(){return l},set _names(a){l=a},get _formState(){return r},get _options(){return t},set _options(a){t={...t,...a}}},subscribe:En,trigger:Ie,register:jt,handleSubmit:Sr,watch:wn,setValue:Q,getValues:Qe,reset:Fr,resetField:Dn,clearErrors:Rt,unregister:Lt,setError:Er,setFocus:Sn,getFieldState:et};return{...Cr,formControl:Cr}}var ke=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Wt=(e,t,r={})=>r.shouldFocus||Z(r.shouldFocus)?r.focusName||`${e}.${Z(r.focusIndex)?t:r.focusIndex}.`:"",Ht=(e,t)=>[...e,...pe(t)],$t=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Gt(e,t,r){return[...e.slice(0,t),...pe(r),...e.slice(t)]}var zt=(e,t,r)=>Array.isArray(e)?(Z(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Kt=(e,t)=>[...pe(t),...pe(e)];function qn(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return kt(n).length?n:[]}var qt=(e,t)=>Z(t)?[]:qn(e,pe(t).sort((r,n)=>r-n)),Zt=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Br=(e,t,r)=>(e[t]=r,e);function Zn(e){const t=Pn(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:o,rules:s}=e,[l,c]=Y.useState(r._getFieldArray(n)),d=Y.useRef(r._getFieldArray(n).map(ke)),p=Y.useRef(l),h=Y.useRef(!1);p.current=l,r._names.array.add(n),Y.useMemo(()=>s&&r.register(n,s),[r,s,n]),Jr(()=>r._subjects.array.subscribe({next:({values:y,name:_})=>{if(_===n||!_){const D=E(y,n);Array.isArray(D)&&(c(D),d.current=D.map(ke))}}}).unsubscribe,[r,n]);const g=Y.useCallback(y=>{h.current=!0,r._setFieldArray(n,y)},[r,n]),M=(y,_)=>{const D=pe(q(y)),B=Ht(r._getFieldArray(n),D);r._names.focus=Wt(n,B.length-1,_),d.current=Ht(d.current,D.map(ke)),g(B),c(B),r._setFieldArray(n,B,Ht,{argA:$t(y)})},T=(y,_)=>{const D=pe(q(y)),B=Kt(r._getFieldArray(n),D);r._names.focus=Wt(n,0,_),d.current=Kt(d.current,D.map(ke)),g(B),c(B),r._setFieldArray(n,B,Kt,{argA:$t(y)})},x=y=>{const _=qt(r._getFieldArray(n),y);d.current=qt(d.current,y),g(_),c(_),!Array.isArray(E(r._fields,n))&&G(r._fields,n,void 0),r._setFieldArray(n,_,qt,{argA:y})},N=(y,_,D)=>{const B=pe(q(_)),O=Gt(r._getFieldArray(n),y,B);r._names.focus=Wt(n,y,D),d.current=Gt(d.current,y,B.map(ke)),g(O),c(O),r._setFieldArray(n,O,Gt,{argA:y,argB:$t(_)})},I=(y,_)=>{const D=r._getFieldArray(n);Zt(D,y,_),Zt(d.current,y,_),g(D),c(D),r._setFieldArray(n,D,Zt,{argA:y,argB:_},!1)},A=(y,_)=>{const D=r._getFieldArray(n);zt(D,y,_),zt(d.current,y,_),g(D),c(D),r._setFieldArray(n,D,zt,{argA:y,argB:_},!1)},P=(y,_)=>{const D=q(_),B=Br(r._getFieldArray(n),y,D);d.current=[...B].map((O,J)=>!O||J===y?ke():d.current[J]),g(B),c([...B]),r._setFieldArray(n,B,Br,{argA:y,argB:D},!0,!1)},U=y=>{const _=pe(q(y));d.current=_.map(ke),g([..._]),c([..._]),r._setFieldArray(n,[..._],D=>D,{},!0,!1)};return Y.useEffect(()=>{if(r._state.action=!1,lr(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!ze(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!ze(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(y=>{const _=E(y.errors,n),D=E(r._formState.errors,n);(D?!_&&D.type||_&&(D.type!==_.type||D.message!==_.message):_&&_.type)&&(_?G(r._formState.errors,n,_):ne(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const y=E(r._fields,n);y&&y._f&&!(ze(r._options.reValidateMode).isOnSubmit&&ze(r._options.mode).isOnSubmit)&&ur(y,r._names.disabled,r._formValues,r._options.criteriaMode===_e.all,r._options.shouldUseNativeValidation,!0).then(_=>!de(_)&&r._subjects.state.next({errors:an(r._formState.errors,_,n)}))}r._subjects.state.next({name:n,values:q(r._formValues)}),r._names.focus&&qe(r._fields,(y,_)=>{if(r._names.focus&&_.startsWith(r._names.focus)&&y.focus)return y.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[l,n,r]),Y.useEffect(()=>(!E(r._formValues,n)&&r._setFieldArray(n),()=>{const y=(_,D)=>{const B=E(r._fields,_);B&&B._f&&(B._f.mount=D)};r._options.shouldUnregister||o?r.unregister(n):y(n,!1)}),[n,r,i,o]),{swap:Y.useCallback(I,[g,n,r]),move:Y.useCallback(A,[g,n,r]),prepend:Y.useCallback(T,[g,n,r]),append:Y.useCallback(M,[g,n,r]),remove:Y.useCallback(x,[g,n,r]),insert:Y.useCallback(N,[g,n,r]),update:Y.useCallback(P,[g,n,r]),replace:Y.useCallback(U,[g,n,r]),fields:Y.useMemo(()=>l.map((y,_)=>({...y,[i]:d.current[_]||ke()})),[l,i])}}function Jn(e={}){const t=Y.useRef(void 0),r=Y.useRef(void 0),[n,i]=Y.useState({isDirty:!1,isValidating:!1,isLoading:De(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:De(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!De(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=Kn(e);t.current={...l,formState:n}}const o=t.current.control;return o._options=e,Jr(()=>{const s=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),o._formState.isReady=!0,s},[o]),Y.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Y.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),Y.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),Y.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),Y.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==n.isDirty&&o._subjects.state.next({isDirty:s})}},[o,n.isDirty]),Y.useEffect(()=>{e.values&&!Re(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[o,e.values]),Y.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=kn(n,o),t.current}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ur(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wt=function(t){return typeof t}:wt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(e)}function Qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ve.apply(this,arguments)}function ei(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ti(e,t){if(e==null)return{};var r=ei(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ri="1.15.6";function Oe(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ne=Oe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ft=Oe(/Edge/i),Yr=Oe(/firefox/i),at=Oe(/safari/i)&&!Oe(/chrome/i)&&!Oe(/android/i),vr=Oe(/iP(ad|od|hone)/i),sn=Oe(/chrome/i)&&Oe(/android/i),ln={capture:!1,passive:!1};function j(e,t,r){e.addEventListener(t,r,!Ne&&ln)}function L(e,t,r){e.removeEventListener(t,r,!Ne&&ln)}function Tt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function un(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ae(e,t,r,n){if(e){r=r||document;do{if(t!=null&&(t[0]===">"?e.parentNode===r&&Tt(e,t):Tt(e,t))||n&&e===r)return e;if(e===r)break}while(e=un(e))}return null}var Xr=/\s+/g;function me(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(Xr," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(Xr," ")}}function C(e,t,r){var n=e&&e.style;if(n){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),t===void 0?r:r[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=r+(typeof r=="string"?"":"px")}}function Ze(e,t){var r="";if(typeof e=="string")r=e;else do{var n=C(e,"transform");n&&n!=="none"&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function cn(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,o=n.length;if(r)for(;i<o;i++)r(n[i],i);return n}return[]}function Fe(){var e=document.scrollingElement;return e||document.documentElement}function ae(e,t,r,n,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,l,c,d,p,h;if(e!==window&&e.parentNode&&e!==Fe()?(o=e.getBoundingClientRect(),s=o.top,l=o.left,c=o.bottom,d=o.right,p=o.height,h=o.width):(s=0,l=0,c=window.innerHeight,d=window.innerWidth,p=window.innerHeight,h=window.innerWidth),(t||r)&&e!==window&&(i=i||e.parentNode,!Ne))do if(i&&i.getBoundingClientRect&&(C(i,"transform")!=="none"||r&&C(i,"position")!=="static")){var g=i.getBoundingClientRect();s-=g.top+parseInt(C(i,"border-top-width")),l-=g.left+parseInt(C(i,"border-left-width")),c=s+o.height,d=l+o.width;break}while(i=i.parentNode);if(n&&e!==window){var M=Ze(i||e),T=M&&M.a,x=M&&M.d;M&&(s/=x,l/=T,h/=T,p/=x,c=s+p,d=l+h)}return{top:s,left:l,bottom:c,right:d,width:h,height:p}}}function Wr(e,t,r){for(var n=je(e,!0),i=ae(e)[t];n;){var o=ae(n)[r],s=void 0;if(s=i>=o,!s)return n;if(n===Fe())break;n=je(n,!1)}return!1}function Je(e,t,r,n){for(var i=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==F.ghost&&(n||s[o]!==F.dragged)&&Ae(s[o],r.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function br(e,t){for(var r=e.lastElementChild;r&&(r===F.ghost||C(r,"display")==="none"||t&&!Tt(r,t));)r=r.previousElementSibling;return r||null}function be(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==F.clone&&(!t||Tt(e,t))&&r++;return r}function Hr(e){var t=0,r=0,n=Fe();if(e)do{var i=Ze(e),o=i.a,s=i.d;t+=e.scrollLeft*o,r+=e.scrollTop*s}while(e!==n&&(e=e.parentNode));return[t,r]}function ni(e,t){for(var r in e)if(e.hasOwnProperty(r)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r)}return-1}function je(e,t){if(!e||!e.getBoundingClientRect)return Fe();var r=e,n=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=C(r);if(r.clientWidth<r.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Fe();if(n||t)return r;n=!0}}while(r=r.parentNode);return Fe()}function ii(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Jt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var st;function dn(e,t){return function(){if(!st){var r=arguments,n=this;r.length===1?e.call(n,r[0]):e.apply(n,r),st=setTimeout(function(){st=void 0},t)}}}function oi(){clearTimeout(st),st=void 0}function fn(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function hn(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function gn(e,t,r){var n={};return Array.from(e.children).forEach(function(i){var o,s,l,c;if(!(!Ae(i,t.draggable,e,!1)||i.animated||i===r)){var d=ae(i);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,d.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,d.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,d.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var ge="Sortable"+new Date().getTime();function ai(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(C(i,"display")==="none"||i===F.ghost)){e.push({target:i,rect:ae(i)});var o=Ce({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=Ze(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(ni(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,s=0;e.forEach(function(l){var c=0,d=l.target,p=d.fromRect,h=ae(d),g=d.prevFromRect,M=d.prevToRect,T=l.rect,x=Ze(d,!0);x&&(h.top-=x.f,h.left-=x.e),d.toRect=h,d.thisAnimationDuration&&Jt(g,h)&&!Jt(p,h)&&(T.top-h.top)/(T.left-h.left)===(p.top-h.top)/(p.left-h.left)&&(c=li(T,g,M,i.options)),Jt(h,p)||(d.prevFromRect=p,d.prevToRect=h,c||(c=i.options.animation),i.animate(d,T,h,c)),c&&(o=!0,s=Math.max(s,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),e=[]},animate:function(n,i,o,s){if(s){C(n,"transition",""),C(n,"transform","");var l=Ze(this.el),c=l&&l.a,d=l&&l.d,p=(i.left-o.left)/(c||1),h=(i.top-o.top)/(d||1);n.animatingX=!!p,n.animatingY=!!h,C(n,"transform","translate3d("+p+"px,"+h+"px,0)"),this.forRepaintDummy=si(n),C(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),C(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){C(n,"transition",""),C(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function si(e){return e.offsetWidth}function li(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}var He=[],Qt={initializeByDefault:!0},ht={mount:function(t){for(var r in Qt)Qt.hasOwnProperty(r)&&!(r in t)&&(t[r]=Qt[r]);He.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),He.push(t)},pluginEvent:function(t,r,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=t+"Global";He.forEach(function(s){r[s.pluginName]&&(r[s.pluginName][o]&&r[s.pluginName][o](Ce({sortable:r},n)),r.options[s.pluginName]&&r[s.pluginName][t]&&r[s.pluginName][t](Ce({sortable:r},n)))})},initializePlugins:function(t,r,n,i){He.forEach(function(l){var c=l.pluginName;if(!(!t.options[c]&&!l.initializeByDefault)){var d=new l(t,r,t.options);d.sortable=t,d.options=t.options,t[c]=d,Ve(n,d.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,r){var n={};return He.forEach(function(i){typeof i.eventProperties=="function"&&Ve(n,i.eventProperties.call(r[i.pluginName],t))}),n},modifyOption:function(t,r,n){var i;return He.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[r]=="function"&&(i=o.optionListeners[r].call(t[o.pluginName],n))}),i}};function ui(e){var t=e.sortable,r=e.rootEl,n=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,d=e.newIndex,p=e.oldDraggableIndex,h=e.newDraggableIndex,g=e.originalEvent,M=e.putSortable,T=e.extraEventProperties;if(t=t||r&&r[ge],!!t){var x,N=t.options,I="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ne&&!ft?x=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(n,!0,!0)),x.to=s||r,x.from=l||r,x.item=i||r,x.clone=o,x.oldIndex=c,x.newIndex=d,x.oldDraggableIndex=p,x.newDraggableIndex=h,x.originalEvent=g,x.pullMode=M?M.lastPutMode:void 0;var A=Ce(Ce({},T),ht.getEventProperties(n,t));for(var P in A)x[P]=A[P];r&&r.dispatchEvent(x),N[I]&&N[I].call(t,x)}}var ci=["evt"],he=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,o=ti(n,ci);ht.pluginEvent.bind(F)(t,r,Ce({dragEl:v,parentEl:te,ghostEl:V,rootEl:K,nextEl:Ye,lastDownEl:Et,cloneEl:ee,cloneHidden:Le,dragStarted:nt,putSortable:se,activeSortable:F.active,originalEvent:i,oldIndex:Ke,oldDraggableIndex:lt,newIndex:ye,newDraggableIndex:Me,hideGhostForTarget:vn,unhideGhostForTarget:bn,cloneNowHidden:function(){Le=!0},cloneNowShown:function(){Le=!1},dispatchSortableEvent:function(l){ce({sortable:r,name:l,originalEvent:i})}},o))};function ce(e){ui(Ce({putSortable:se,cloneEl:ee,targetEl:v,rootEl:K,oldIndex:Ke,oldDraggableIndex:lt,newIndex:ye,newDraggableIndex:Me},e))}var v,te,V,K,Ye,Et,ee,Le,Ke,ye,lt,Me,mt,se,Ge=!1,Ot=!1,Vt=[],Be,Ee,er,tr,$r,Gr,nt,$e,ut,ct=!1,yt=!1,At,le,rr=[],cr=!1,Nt=[],Mt=typeof document<"u",vt=vr,zr=ft||Ne?"cssFloat":"float",di=Mt&&!sn&&!vr&&"draggable"in document.createElement("div"),pn=(function(){if(Mt){if(Ne)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),mn=function(t,r){var n=C(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Je(t,0,r),s=Je(t,1,r),l=o&&C(o),c=s&&C(s),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ae(o).width,p=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+ae(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===h)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=i&&n[zr]==="none"||s&&n[zr]==="none"&&d+p>i)?"vertical":"horizontal"},fi=function(t,r,n){var i=n?t.left:t.top,o=n?t.right:t.bottom,s=n?t.width:t.height,l=n?r.left:r.top,c=n?r.right:r.bottom,d=n?r.width:r.height;return i===l||o===c||i+s/2===l+d/2},hi=function(t,r){var n;return Vt.some(function(i){var o=i[ge].options.emptyInsertThreshold;if(!(!o||br(i))){var s=ae(i),l=t>=s.left-o&&t<=s.right+o,c=r>=s.top-o&&r<=s.bottom+o;if(l&&c)return n=i}}),n},yn=function(t){function r(o,s){return function(l,c,d,p){var h=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(o==null&&(s||h))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return r(o(l,c,d,p),s)(l,c,d,p);var g=(s?l:c).options.group.name;return o===!0||typeof o=="string"&&o===g||o.join&&o.indexOf(g)>-1}}var n={},i=t.group;(!i||wt(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=r(i.pull,!0),n.checkPut=r(i.put),n.revertClone=i.revertClone,t.group=n},vn=function(){!pn&&V&&C(V,"display","none")},bn=function(){!pn&&V&&C(V,"display","")};Mt&&!sn&&document.addEventListener("click",function(e){if(Ot)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ot=!1,!1},!0);var Ue=function(t){if(v){t=t.touches?t.touches[0]:t;var r=hi(t.clientX,t.clientY);if(r){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=r,n.preventDefault=void 0,n.stopPropagation=void 0,r[ge]._onDragOver(n)}}},gi=function(t){v&&v.parentNode[ge]._isOutsideThisEl(t.target)};function F(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ve({},t),e[ge]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return mn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:F.supportPointer!==!1&&"PointerEvent"in window&&(!at||vr),emptyInsertThreshold:5};ht.initializePlugins(this,e,r);for(var n in r)!(n in t)&&(t[n]=r[n]);yn(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:di,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?j(e,"pointerdown",this._onTapStart):(j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Vt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ve(this,ai())}F.prototype={constructor:F,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&($e=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,v):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,n=this.el,i=this.options,o=i.preventOnFilter,s=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(l||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,p=i.filter;if(Ei(n),!v&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&at&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Ae(c,i.draggable,n,!1),!(c&&c.animated)&&Et!==c)){if(Ke=be(c),lt=be(c,i.draggable),typeof p=="function"){if(p.call(this,t,c,this)){ce({sortable:r,rootEl:d,name:"filter",targetEl:c,toEl:n,fromEl:n}),he("filter",r,{evt:t}),o&&t.preventDefault();return}}else if(p&&(p=p.split(",").some(function(h){if(h=Ae(d,h.trim(),n,!1),h)return ce({sortable:r,rootEl:h,name:"filter",targetEl:c,fromEl:n,toEl:n}),he("filter",r,{evt:t}),!0}),p)){o&&t.preventDefault();return}i.handle&&!Ae(d,i.handle,n,!1)||this._prepareDragStart(t,l,c)}}},_prepareDragStart:function(t,r,n){var i=this,o=i.el,s=i.options,l=o.ownerDocument,c;if(n&&!v&&n.parentNode===o){var d=ae(n);if(K=o,v=n,te=v.parentNode,Ye=v.nextSibling,Et=n,mt=s.group,F.dragged=v,Be={target:v,clientX:(r||t).clientX,clientY:(r||t).clientY},$r=Be.clientX-d.left,Gr=Be.clientY-d.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,v.style["will-change"]="all",c=function(){if(he("delayEnded",i,{evt:t}),F.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Yr&&i.nativeDraggable&&(v.draggable=!0),i._triggerDragStart(t,r),ce({sortable:i,name:"choose",originalEvent:t}),me(v,s.chosenClass,!0)},s.ignore.split(",").forEach(function(p){cn(v,p.trim(),nr)}),j(l,"dragover",Ue),j(l,"mousemove",Ue),j(l,"touchmove",Ue),s.supportPointer?(j(l,"pointerup",i._onDrop),!this.nativeDraggable&&j(l,"pointercancel",i._onDrop)):(j(l,"mouseup",i._onDrop),j(l,"touchend",i._onDrop),j(l,"touchcancel",i._onDrop)),Yr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),he("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(ft||Ne))){if(F.eventCanceled){this._onDrop();return}s.supportPointer?(j(l,"pointerup",i._disableDelayedDrag),j(l,"pointercancel",i._disableDelayedDrag)):(j(l,"mouseup",i._disableDelayedDrag),j(l,"touchend",i._disableDelayedDrag),j(l,"touchcancel",i._disableDelayedDrag)),j(l,"mousemove",i._delayedDragTouchMoveHandler),j(l,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&j(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&nr(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._disableDelayedDrag),L(t,"touchend",this._disableDelayedDrag),L(t,"touchcancel",this._disableDelayedDrag),L(t,"pointerup",this._disableDelayedDrag),L(t,"pointercancel",this._disableDelayedDrag),L(t,"mousemove",this._delayedDragTouchMoveHandler),L(t,"touchmove",this._delayedDragTouchMoveHandler),L(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):r?j(document,"touchmove",this._onTouchMove):j(document,"mousemove",this._onTouchMove):(j(v,"dragend",this),j(K,"dragstart",this._onDragStart));try{document.selection?Dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(Ge=!1,K&&v){he("dragStarted",this,{evt:r}),this.nativeDraggable&&j(document,"dragover",gi);var n=this.options;!t&&me(v,n.dragClass,!1),me(v,n.ghostClass,!0),F.active=this,t&&this._appendGhost(),ce({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Ee){this._lastX=Ee.clientX,this._lastY=Ee.clientY,vn();for(var t=document.elementFromPoint(Ee.clientX,Ee.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ee.clientX,Ee.clientY),t!==r);)r=t;if(v.parentNode[ge]._isOutsideThisEl(t),r)do{if(r[ge]){var n=void 0;if(n=r[ge]._onDragOver({clientX:Ee.clientX,clientY:Ee.clientY,target:t,rootEl:r}),n&&!this.options.dragoverBubble)break}t=r}while(r=un(r));bn()}},_onTouchMove:function(t){if(Be){var r=this.options,n=r.fallbackTolerance,i=r.fallbackOffset,o=t.touches?t.touches[0]:t,s=V&&Ze(V,!0),l=V&&s&&s.a,c=V&&s&&s.d,d=vt&&le&&Hr(le),p=(o.clientX-Be.clientX+i.x)/(l||1)+(d?d[0]-rr[0]:0)/(l||1),h=(o.clientY-Be.clientY+i.y)/(c||1)+(d?d[1]-rr[1]:0)/(c||1);if(!F.active&&!Ge){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(V){s?(s.e+=p-(er||0),s.f+=h-(tr||0)):s={a:1,b:0,c:0,d:1,e:p,f:h};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");C(V,"webkitTransform",g),C(V,"mozTransform",g),C(V,"msTransform",g),C(V,"transform",g),er=p,tr=h,Ee=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!V){var t=this.options.fallbackOnBody?document.body:K,r=ae(v,!0,vt,!0,t),n=this.options;if(vt){for(le=t;C(le,"position")==="static"&&C(le,"transform")==="none"&&le!==document;)le=le.parentNode;le!==document.body&&le!==document.documentElement?(le===document&&(le=Fe()),r.top+=le.scrollTop,r.left+=le.scrollLeft):le=Fe(),rr=Hr(le)}V=v.cloneNode(!0),me(V,n.ghostClass,!1),me(V,n.fallbackClass,!0),me(V,n.dragClass,!0),C(V,"transition",""),C(V,"transform",""),C(V,"box-sizing","border-box"),C(V,"margin",0),C(V,"top",r.top),C(V,"left",r.left),C(V,"width",r.width),C(V,"height",r.height),C(V,"opacity","0.8"),C(V,"position",vt?"absolute":"fixed"),C(V,"zIndex","100000"),C(V,"pointerEvents","none"),F.ghost=V,t.appendChild(V),C(V,"transform-origin",$r/parseInt(V.style.width)*100+"% "+Gr/parseInt(V.style.height)*100+"%")}},_onDragStart:function(t,r){var n=this,i=t.dataTransfer,o=n.options;if(he("dragStart",this,{evt:t}),F.eventCanceled){this._onDrop();return}he("setupClone",this),F.eventCanceled||(ee=hn(v),ee.removeAttribute("id"),ee.draggable=!1,ee.style["will-change"]="",this._hideClone(),me(ee,this.options.chosenClass,!1),F.clone=ee),n.cloneId=Dt(function(){he("clone",n),!F.eventCanceled&&(n.options.removeCloneOnHide||K.insertBefore(ee,v),n._hideClone(),ce({sortable:n,name:"clone"}))}),!r&&me(v,o.dragClass,!0),r?(Ot=!0,n._loopId=setInterval(n._emulateDragOver,50)):(L(document,"mouseup",n._onDrop),L(document,"touchend",n._onDrop),L(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,v)),j(document,"drop",n),C(v,"transform","translateZ(0)")),Ge=!0,n._dragStartId=Dt(n._dragStarted.bind(n,r,t)),j(document,"selectstart",n),nt=!0,window.getSelection().removeAllRanges(),at&&C(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,n=t.target,i,o,s,l=this.options,c=l.group,d=F.active,p=mt===c,h=l.sort,g=se||d,M,T=this,x=!1;if(cr)return;function N(we,Ie){he(we,T,Ce({evt:t,isOwner:p,axis:M?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:h,fromSortable:g,target:n,completed:A,onMove:function(et,Rt){return bt(K,r,v,i,et,ae(et),t,Rt)},changed:P},Ie))}function I(){N("dragOverAnimationCapture"),T.captureAnimationState(),T!==g&&g.captureAnimationState()}function A(we){return N("dragOverCompleted",{insertion:we}),we&&(p?d._hideClone():d._showClone(T),T!==g&&(me(v,se?se.options.ghostClass:d.options.ghostClass,!1),me(v,l.ghostClass,!0)),se!==T&&T!==F.active?se=T:T===F.active&&se&&(se=null),g===T&&(T._ignoreWhileAnimating=n),T.animateAll(function(){N("dragOverAnimationComplete"),T._ignoreWhileAnimating=null}),T!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(n===v&&!v.animated||n===r&&!n.animated)&&($e=null),!l.dragoverBubble&&!t.rootEl&&n!==document&&(v.parentNode[ge]._isOutsideThisEl(t.target),!we&&Ue(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),x=!0}function P(){ye=be(v),Me=be(v,l.draggable),ce({sortable:T,name:"change",toEl:r,newIndex:ye,newDraggableIndex:Me,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Ae(n,l.draggable,r,!0),N("dragOver"),F.eventCanceled)return x;if(v.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||T._ignoreWhileAnimating===n)return A(!1);if(Ot=!1,d&&!l.disabled&&(p?h||(s=te!==K):se===this||(this.lastPutMode=mt.checkPull(this,d,v,t))&&c.checkPut(this,d,v,t))){if(M=this._getDirection(t,n)==="vertical",i=ae(v),N("dragOverValid"),F.eventCanceled)return x;if(s)return te=K,I(),this._hideClone(),N("revert"),F.eventCanceled||(Ye?K.insertBefore(v,Ye):K.appendChild(v)),A(!0);var U=br(r,l.draggable);if(!U||vi(t,M,this)&&!U.animated){if(U===v)return A(!1);if(U&&r===t.target&&(n=U),n&&(o=ae(n)),bt(K,r,v,i,n,o,t,!!n)!==!1)return I(),U&&U.nextSibling?r.insertBefore(v,U.nextSibling):r.appendChild(v),te=r,P(),A(!0)}else if(U&&yi(t,M,this)){var y=Je(r,0,l,!0);if(y===v)return A(!1);if(n=y,o=ae(n),bt(K,r,v,i,n,o,t,!1)!==!1)return I(),r.insertBefore(v,y),te=r,P(),A(!0)}else if(n.parentNode===r){o=ae(n);var _=0,D,B=v.parentNode!==r,O=!fi(v.animated&&v.toRect||i,n.animated&&n.toRect||o,M),J=M?"top":"left",z=Wr(n,"top","top")||Wr(v,"top","top"),k=z?z.scrollTop:void 0;$e!==n&&(D=o[J],ct=!1,yt=!O&&l.invertSwap||B),_=bi(t,n,o,M,O?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,yt,$e===n);var R;if(_!==0){var W=be(v);do W-=_,R=te.children[W];while(R&&(C(R,"display")==="none"||R===V))}if(_===0||R===n)return A(!1);$e=n,ut=_;var re=n.nextElementSibling,Q=!1;Q=_===1;var ue=bt(K,r,v,i,n,o,t,Q);if(ue!==!1)return(ue===1||ue===-1)&&(Q=ue===1),cr=!0,setTimeout(mi,30),I(),Q&&!re?r.appendChild(v):n.parentNode.insertBefore(v,Q?re:n),z&&fn(z,0,k-z.scrollTop),te=v.parentNode,D!==void 0&&!yt&&(At=Math.abs(D-ae(n)[J])),P(),A(!0)}if(r.contains(v))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){L(document,"mousemove",this._onTouchMove),L(document,"touchmove",this._onTouchMove),L(document,"pointermove",this._onTouchMove),L(document,"dragover",Ue),L(document,"mousemove",Ue),L(document,"touchmove",Ue)},_offUpEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._onDrop),L(t,"touchend",this._onDrop),L(t,"pointerup",this._onDrop),L(t,"pointercancel",this._onDrop),L(t,"touchcancel",this._onDrop),L(document,"selectstart",this)},_onDrop:function(t){var r=this.el,n=this.options;if(ye=be(v),Me=be(v,n.draggable),he("drop",this,{evt:t}),te=v&&v.parentNode,ye=be(v),Me=be(v,n.draggable),F.eventCanceled){this._nulling();return}Ge=!1,yt=!1,ct=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),dr(this.cloneId),dr(this._dragStartId),this.nativeDraggable&&(L(document,"drop",this),L(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),at&&C(document.body,"user-select",""),C(v,"transform",""),t&&(nt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),V&&V.parentNode&&V.parentNode.removeChild(V),(K===te||se&&se.lastPutMode!=="clone")&&ee&&ee.parentNode&&ee.parentNode.removeChild(ee),v&&(this.nativeDraggable&&L(v,"dragend",this),nr(v),v.style["will-change"]="",nt&&!Ge&&me(v,se?se.options.ghostClass:this.options.ghostClass,!1),me(v,this.options.chosenClass,!1),ce({sortable:this,name:"unchoose",toEl:te,newIndex:null,newDraggableIndex:null,originalEvent:t}),K!==te?(ye>=0&&(ce({rootEl:te,name:"add",toEl:te,fromEl:K,originalEvent:t}),ce({sortable:this,name:"remove",toEl:te,originalEvent:t}),ce({rootEl:te,name:"sort",toEl:te,fromEl:K,originalEvent:t}),ce({sortable:this,name:"sort",toEl:te,originalEvent:t})),se&&se.save()):ye!==Ke&&ye>=0&&(ce({sortable:this,name:"update",toEl:te,originalEvent:t}),ce({sortable:this,name:"sort",toEl:te,originalEvent:t})),F.active&&((ye==null||ye===-1)&&(ye=Ke,Me=lt),ce({sortable:this,name:"end",toEl:te,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){he("nulling",this),K=v=te=V=Ye=ee=Et=Le=Be=Ee=nt=ye=Me=Ke=lt=$e=ut=se=mt=F.dragged=F.ghost=F.clone=F.active=null,Nt.forEach(function(t){t.checked=!0}),Nt.length=er=tr=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":v&&(this._onDragOver(t),pi(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,n=this.el.children,i=0,o=n.length,s=this.options;i<o;i++)r=n[i],Ae(r,s.draggable,this.el,!1)&&t.push(r.getAttribute(s.dataIdAttr)||wi(r));return t},sort:function(t,r){var n={},i=this.el;this.toArray().forEach(function(o,s){var l=i.children[s];Ae(l,this.options.draggable,i,!1)&&(n[o]=l)},this),r&&this.captureAnimationState(),t.forEach(function(o){n[o]&&(i.removeChild(n[o]),i.appendChild(n[o]))}),r&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return Ae(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var n=this.options;if(r===void 0)return n[t];var i=ht.modifyOption(this,t,r);typeof i<"u"?n[t]=i:n[t]=r,t==="group"&&yn(n)},destroy:function(){he("destroy",this);var t=this.el;t[ge]=null,L(t,"mousedown",this._onTapStart),L(t,"touchstart",this._onTapStart),L(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(L(t,"dragover",this),L(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Vt.splice(Vt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Le){if(he("hideClone",this),F.eventCanceled)return;C(ee,"display","none"),this.options.removeCloneOnHide&&ee.parentNode&&ee.parentNode.removeChild(ee),Le=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Le){if(he("showClone",this),F.eventCanceled)return;v.parentNode==K&&!this.options.group.revertClone?K.insertBefore(ee,v):Ye?K.insertBefore(ee,Ye):K.appendChild(ee),this.options.group.revertClone&&this.animate(v,ee),C(ee,"display",""),Le=!1}}};function pi(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function bt(e,t,r,n,i,o,s,l){var c,d=e[ge],p=d.options.onMove,h;return window.CustomEvent&&!Ne&&!ft?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=r,c.draggedRect=n,c.related=i||t,c.relatedRect=o||ae(t),c.willInsertAfter=l,c.originalEvent=s,e.dispatchEvent(c),p&&(h=p.call(d,c,s)),h}function nr(e){e.draggable=!1}function mi(){cr=!1}function yi(e,t,r){var n=ae(Je(r.el,0,r.options,!0)),i=gn(r.el,r.options,V),o=10;return t?e.clientX<i.left-o||e.clientY<n.top&&e.clientX<n.right:e.clientY<i.top-o||e.clientY<n.bottom&&e.clientX<n.left}function vi(e,t,r){var n=ae(br(r.el,r.options.draggable)),i=gn(r.el,r.options,V),o=10;return t?e.clientX>i.right+o||e.clientY>n.bottom&&e.clientX>n.left:e.clientY>i.bottom+o||e.clientX>n.right&&e.clientY>n.top}function bi(e,t,r,n,i,o,s,l){var c=n?e.clientY:e.clientX,d=n?r.height:r.width,p=n?r.top:r.left,h=n?r.bottom:r.right,g=!1;if(!s){if(l&&At<d*i){if(!ct&&(ut===1?c>p+d*o/2:c<h-d*o/2)&&(ct=!0),ct)g=!0;else if(ut===1?c<p+At:c>h-At)return-ut}else if(c>p+d*(1-i)/2&&c<h-d*(1-i)/2)return _i(t)}return g=g||s,g&&(c<p+d*o/2||c>h-d*o/2)?c>p+d/2?1:-1:0}function _i(e){return be(v)<be(e)?1:-1}function wi(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function Ei(e){Nt.length=0;for(var t=e.getElementsByTagName("input"),r=t.length;r--;){var n=t[r];n.checked&&Nt.push(n)}}function Dt(e){return setTimeout(e,0)}function dr(e){return clearTimeout(e)}Mt&&j(document,"touchmove",function(e){(F.active||Ge)&&e.cancelable&&e.preventDefault()});F.utils={on:j,off:L,css:C,find:cn,is:function(t,r){return!!Ae(t,r,t,!1)},extend:ii,throttle:dn,closest:Ae,toggleClass:me,clone:hn,index:be,nextTick:Dt,cancelNextTick:dr,detectDirection:mn,getChild:Je,expando:ge};F.get=function(e){return e[ge]};F.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(F.utils=Ce(Ce({},F.utils),n.utils)),ht.mount(n)})};F.create=function(e,t){return new F(e,t)};F.version=ri;var oe=[],it,fr,hr=!1,ir,or,It,ot;function Ai(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(r){var n=r.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):n.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var n=r.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):(L(document,"pointermove",this._handleFallbackAutoScroll),L(document,"touchmove",this._handleFallbackAutoScroll),L(document,"mousemove",this._handleFallbackAutoScroll)),Kr(),St(),oi()},nulling:function(){It=fr=it=hr=ot=ir=or=null,oe.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,n){var i=this,o=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,l=document.elementFromPoint(o,s);if(It=r,n||this.options.forceAutoScrollFallback||ft||Ne||at){ar(r,this.options,l,n);var c=je(l,!0);hr&&(!ot||o!==ir||s!==or)&&(ot&&Kr(),ot=setInterval(function(){var d=je(document.elementFromPoint(o,s),!0);d!==c&&(c=d,St()),ar(r,i.options,d,n)},10),ir=o,or=s)}else{if(!this.options.bubbleScroll||je(l,!0)===Fe()){St();return}ar(r,this.options,je(l,!1),!1)}}},Ve(e,{pluginName:"scroll",initializeByDefault:!0})}function St(){oe.forEach(function(e){clearInterval(e.pid)}),oe=[]}function Kr(){clearInterval(ot)}var ar=dn(function(e,t,r,n){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=Fe(),d=!1,p;fr!==r&&(fr=r,St(),it=t.scroll,p=t.scrollFn,it===!0&&(it=je(r,!0)));var h=0,g=it;do{var M=g,T=ae(M),x=T.top,N=T.bottom,I=T.left,A=T.right,P=T.width,U=T.height,y=void 0,_=void 0,D=M.scrollWidth,B=M.scrollHeight,O=C(M),J=M.scrollLeft,z=M.scrollTop;M===c?(y=P<D&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),_=U<B&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(y=P<D&&(O.overflowX==="auto"||O.overflowX==="scroll"),_=U<B&&(O.overflowY==="auto"||O.overflowY==="scroll"));var k=y&&(Math.abs(A-i)<=s&&J+P<D)-(Math.abs(I-i)<=s&&!!J),R=_&&(Math.abs(N-o)<=s&&z+U<B)-(Math.abs(x-o)<=s&&!!z);if(!oe[h])for(var W=0;W<=h;W++)oe[W]||(oe[W]={});(oe[h].vx!=k||oe[h].vy!=R||oe[h].el!==M)&&(oe[h].el=M,oe[h].vx=k,oe[h].vy=R,clearInterval(oe[h].pid),(k!=0||R!=0)&&(d=!0,oe[h].pid=setInterval((function(){n&&this.layer===0&&F.active._onTouchMove(It);var re=oe[this.layer].vy?oe[this.layer].vy*l:0,Q=oe[this.layer].vx?oe[this.layer].vx*l:0;typeof p=="function"&&p.call(F.dragged.parentNode[ge],Q,re,e,It,oe[this.layer].el)!=="continue"||fn(oe[this.layer].el,Q,re)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&g!==c&&(g=je(g,!1)));hr=d}},30),_n=function(t){var r=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,l=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(r){var d=n||o;l();var p=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,h=document.elementFromPoint(p.clientX,p.clientY);c(),d&&!d.el.contains(h)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function _r(){}_r.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Je(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(r,i):this.sortable.el.appendChild(r),this.sortable.animateAll(),n&&n.animateAll()},drop:_n};Ve(_r,{pluginName:"revertOnSpill"});function wr(){}wr.prototype={onSpill:function(t){var r=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),i.animateAll()},drop:_n};Ve(wr,{pluginName:"removeOnSpill"});F.mount(new Ai);F.mount(wr,_r);const Di={parentArray:[{parentKey:"parent1",parentValue:"Parent 1",childArray:[{childKey:"child1-1",childValue:"Child 1-1"},{childKey:"child1-2",childValue:"Child 1-2"}]},{parentKey:"parent2",parentValue:"Parent 2",childArray:[{childKey:"child2-1",childValue:"Child 2-1"}]}]};function Fi(){const{control:e,register:t,watch:r,setValue:n,handleSubmit:i}=Jn({defaultValues:Di}),{fields:o,append:s,remove:l,move:c}=Zn({control:e,name:"parentArray"}),d=r(),p=pt.useRef(null),h=pt.useRef({});pt.useEffect(()=>{if(p.current){const N=F.create(p.current,{handle:".parent-drag-handle",animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",onEnd:I=>{I.oldIndex!==void 0&&I.newIndex!==void 0&&c(I.oldIndex,I.newIndex)}});return()=>{N.destroy()}}},[c]),pt.useEffect(()=>{const N=[];return o.forEach((I,A)=>{const P=h.current[A];if(P){const U=F.create(P,{group:"children",animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",onEnd:y=>{if(y.oldIndex!==void 0&&y.newIndex!==void 0){const _=parseInt(y.from.dataset.parentIndex||"0"),D=parseInt(y.to.dataset.parentIndex||"0"),B=d.parentArray;if(_===D){const O=[...B],J=[...O[_].childArray],[z]=J.splice(y.oldIndex,1);J.splice(y.newIndex,0,z),O[_]={...O[_],childArray:J},n("parentArray",O)}else{const O=[...B],J=[...O[_].childArray],z=[...O[D].childArray],[k]=J.splice(y.oldIndex,1);z.splice(y.newIndex,0,k),O[_]={...O[_],childArray:J},O[D]={...O[D],childArray:z},n("parentArray",O)}}}});N.push(U)}}),()=>{N.forEach(I=>I.destroy())}},[o,n,d.parentArray]);const g=()=>{s({parentKey:`parent${Date.now()}`,parentValue:`New Parent ${o.length+1}`,childArray:[]})},M=N=>{const A=[...d.parentArray],P={childKey:`child${Date.now()}`,childValue:`New Child ${A[N].childArray.length+1}`};A[N]={...A[N],childArray:[...A[N].childArray,P]},n("parentArray",A)},T=(N,I)=>{const P=[...d.parentArray],U=[...P[N].childArray];U.splice(I,1),P[N]={...P[N],childArray:U},n("parentArray",P)},x=N=>{console.log("Form data:",JSON.stringify(N,null,2)),alert("Form submitted! Check console for data.")};return X.jsxs("div",{className:"container",children:[X.jsxs("div",{className:"form-section",children:[X.jsx("h2",{children:"Sortable Form"}),X.jsxs("form",{onSubmit:i(x),children:[X.jsx("div",{ref:p,children:o.map((N,I)=>X.jsxs("div",{className:"parent-item",children:[X.jsxs("div",{className:"parent-header",children:[X.jsx("span",{className:"drag-handle parent-drag-handle",children:""}),X.jsx("input",{...t(`parentArray.${I}.parentKey`),className:"parent-input",placeholder:"Parent Key"}),X.jsx("input",{...t(`parentArray.${I}.parentValue`),className:"parent-input",placeholder:"Parent Value"}),X.jsx("button",{type:"button",className:"remove-button",onClick:()=>l(I),children:"Remove"})]}),X.jsxs("div",{className:"children-container",children:[X.jsx("h4",{children:"Children:"}),X.jsx("div",{ref:A=>{h.current[I]=A},"data-parent-index":I,children:d.parentArray[I]?.childArray.map((A,P)=>X.jsxs("div",{className:"child-item",children:[X.jsx("span",{className:"drag-handle",children:""}),X.jsx("input",{...t(`parentArray.${I}.childArray.${P}.childKey`),className:"child-input",placeholder:"Child Key"}),X.jsx("input",{...t(`parentArray.${I}.childArray.${P}.childValue`),className:"child-input",placeholder:"Child Value"}),X.jsx("button",{type:"button",className:"remove-button",onClick:()=>T(I,P),children:""})]},`${I}-${P}`))}),X.jsx("button",{type:"button",className:"add-button",onClick:()=>M(I),children:"Add Child"})]})]},N.id))}),X.jsxs("div",{style:{marginTop:"20px"},children:[X.jsx("button",{type:"button",className:"add-button",onClick:g,children:"Add Parent"}),X.jsx("button",{type:"submit",className:"add-button",style:{marginLeft:"10px",backgroundColor:"#28a745"},children:"Submit Form"})]})]})]}),X.jsxs("div",{className:"sidebar",children:[X.jsx("h3",{children:"Index Information"}),X.jsx("ul",{className:"index-list",children:d.parentArray.map((N,I)=>X.jsxs("li",{className:"index-item",children:[X.jsxs("strong",{children:["[",I,"] ",N.parentKey]}),X.jsx("div",{className:"nested-index",children:N.childArray.map((A,P)=>X.jsxs("div",{children:["[",I,".",P,"] ",A.childKey]},P))})]},I))})]})]})}export{Fi as default};
