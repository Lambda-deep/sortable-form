# sortable-form

## 内容

配列を持ったオブジェクトの配列を対象に、入力フォームと、サイドバーにあるインデックス情報のリストを、相互に同期させつつ並び替えられるようにしたい。

## データ構造

```typescript
type Data = {
    parentArray: Parent[];
};
type Parent = {
    parentKey: string;
    parentValue: string;
    childArray: Child[];
};
type Child = {
    childKey: string;
    childValue: string;
};
```

## 要求仕様

### 基本機能

- parentArray内でParent要素の並び替え可能
- childArray内でChild要素の並び替え可能
- あるParentから別のParentにChild要素を移動可能
- Child要素をParent要素の外に出すことはできない
- Parent要素をChild要素の中に入れることはできない

### ドラッグ&ドロップ動作

- ドラッグの際に掴んだ要素そのものが動く状態を維持
- 掴んだ要素が元々あった場所は、ドラッグ中は空欄になり、要素と同じサイズの余白が表示される
- ドラッグ中は要素の入れ替わりは発生せず、ドロップした際に入れ替わる
- ドラッグの際に掴んだ要素の移動先にはインジケーターが表示される
- ドロップインジケーターは要素の移動先の位置に正確に表示される

### デュアルインターフェース

- フォーム側とサイドバー側の両方でドラッグ&ドロップが可能
- 双方向の同期が必須：フォーム/サイドバーで要素を移動を完了した時、フォーム/サイドバー内でも対応する要素が移動する

### 視覚的フィードバック

- ドラッグ中の要素のサイズ比率を正常に保つ
- 範囲外までドラッグ可能（別のParentにChild要素を移動可能にするため）
- ドラッグ中に余計な見た目の変化が起こらないよう制御

## 技術選定

- React(Remix)を用いたアプリケーション
- 入力フォームの管理にはreact-hook-fromを使う
- 要素の並び替えに使うライブラリはsortablejsが第一候補だが、無理そうであれば他のライブラリも検討する
